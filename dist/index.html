<!DOCTYPE html>
<html lang="pt-BR" data-theme="pastel">
  <head>
    <meta charset="UTF-8" />
    <title>MyFast</title>
  <!-- CDN do DaisyUI e Tailwind CSS -->

  <link href="./styles.css" rel="stylesheet">



    <style>
      /* Posicionar o menu hamburger no topo direito dentro de cada card */
      .pedido-card {
        position: relative;
      }
      .menu-botao {
        position: absolute;
        top: 0.5rem;
        right: 0.5rem;
      }
    </style>
  </head>

  <body class="bg-neutral text-neutral-content min-h-screen">



    <div class="navbar bg-base-100">
      <div class="flex-1">
        <a href="index.html" class="btn btn-ghost text-xl">MyFast</a>
      </div>

      <div class="flex-none">
        <label class="swap swap-rotate px-2">
          <!-- this hidden checkbox controls the state -->
          <input type="checkbox" class="theme-controller" value="synthwave" />
        
          <!-- sun icon -->
          <svg
            class="swap-off h-7 w-7 fill-current"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24">
            <path
              d="M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z" />
          </svg>
        
          <!-- moon icon -->
          <svg
            class="swap-on h-7 w-7 fill-current"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24">
            <path
              d="M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z" />
          </svg>
        </label>
        <div class="dropdown dropdown-end">
          <div tabindex="0" role="button" class="btn btn-ghost btn-circle avatar">
            <div class="w-10 rounded-full">
              <img
                alt="Tailwind CSS Navbar component"
                src="https://img.daisyui.com/images/stock/photo-1534528741775-53994a69daeb.webp" />
            </div>
          </div>
          <ul
            tabindex="0"
            class="menu menu-sm dropdown-content bg-base-100 rounded-box z-[1] mt-3 w-52 p-2 shadow">
            <li>
              <a class="justify-between">
                Profile
                <span class="badge">New</span>
              </a>
            </li>
            <li><a>Settings</a></li>
            <li><a>Logout</a></li>
          </ul>
        </div>
      </div>
    </div>
    <div class="container-geral">
      <h1 id="tituloPrincipal" class="text-3xl font-bold mb-6 text-center">
        Sistema de Pedidos
      </h1>

      <!-- Layout principal: duas colunas -->
      <div class="container-formulario grid grid-cols-2">
        <!-- Coluna Esquerda: Formulário de Novo/Edição de Pedido -->
        <div class="container-esquerda">
          <div class="card-body-esquerda">
            <h2 class="card-title mb-2" id="tituloFormPedido">Novo Pedido</h2>
            <form id="form-pedido" class="space-y-4">
              <!-- Número do Pedido -->
              <div class="form-control">
                <label class="label text-base">N.º PEDIDO</label>
                <input
                  id="numeroPedido"
                  type="text"
                  name="numeroPedido"
                  maxlength="6"
                  class="input input-bordered"
                  placeholder="Máx. 6 dígitos"
                  required
                />
              </div>

              <!-- Data (preenchida automaticamente) -->
              <div class="form-control">
                <label class="label text-base">DATA</label>
                <input
                  id="dataPedido"
                  type="date"
                  name="data"
                  class="input input-bordered"
                  placeholder="dd/mm/aaaa"
                  required
                />
              </div>

              <!-- Matrícula (5 caracteres, somente números) -->
              <div class="form-control">
                <label class="label text-base">MATRÍCULA</label>
                <input
                  id="matricula"
                  type="text"
                  name="matricula"
                  maxlength="5"
                  class="input input-bordered"
                  placeholder="Máx. 5 dígitos"
                  required
                />
              </div>

              <!-- Resultado da Ônus -->
              <div class="form-control">
                <label class="label text-base">RESULTADO DA ÔNUS</label>
                <select
                  id="resultadoOnus"
                  name="resultadoOnus"
                  class="select select-bordered"
                >
                  <option value="NEGATIVA">NEGATIVA</option>
                  <option value="POSITIVA">POSITIVA</option>
                  <option value="INDETERMINADA">INDETERMINADA</option>
                </select>
              </div>

              <!-- Número de Folhas (2 caracteres, somente números) -->
              <div class="form-control">
                <label class="label text-base">N.º DE FOLHAS</label>
                <input
                  id="numFolhas"
                  type="text"
                  name="numFolhas"
                  maxlength="2"
                  class="input input-bordered"
                  placeholder="Ex: 12"
                />
              </div>

              <!-- Número de Imagens (2 caracteres, somente números) -->
              <div class="form-control">
                <label class="label text-base">N.º DE IMAGENS</label>
                <input
                  id="numImagens"
                  type="text"
                  name="numImagens"
                  maxlength="2"
                  class="input input-bordered"
                  placeholder="Ex: 05"
                />
              </div>

              <!-- Tipo da Certidão -->
              <div class="form-control">
                <label class="label text-base">TIPO DA CERTIDÃO</label>
                <select
                  id="tipoCertidao"
                  name="tipoCertidao"
                  class="select select-bordered"
                >
                  <option value="BALCÃO">BALCÃO</option>
                  <option value="ARIRJ">ARIRJ</option>
                  <option value="E-CARTÓRIO">E-CARTÓRIO</option>
                </select>
              </div>

              <!-- Campo dinâmico para CÓDIGO ARIRJ ou E-CARTÓRIO -->
              <div class="form-control hidden" id="divCodigoCertidao">
                <label class="label text-base" id="labelCodigoCertidao" ></label>
                <input
                  id="inputCodigoCertidao"
                  type="text"
                  name="codigoCertidao"
                  class="input input-bordered"
                  placeholder=""
                />
              </div>

              <!-- Botões em grid 2 colunas -->
              <div class="grid grid-cols-2 gap-2">
                <!-- Botão Adicionar Participante -->
                <button
                  type="button"
                  id="btnAddParticipante"
                  class="btn btn-secondary w-full"
                >
                  Adicionar Participante
                </button>

                <!-- Botão Adicionar Protocolo -->
                <button
                  type="button"
                  id="btnAddProtocolo"
                  class="btn btn-secondary w-full"
                >
                  Adicionar Protocolo
                </button>

                <!-- Botão Visualizar Participantes e Protocolos -->
                <button
                  type="button"
                  id="btnVerResumo"
                  class="btn btn-accent w-full"
                >
                  Visualizar Participantes e Protocolos
                </button>

                <!-- Botão principal (Cadastrar / Confirmar Alteração) -->
                <button
                  type="button"
                  class="btn btn-primary w-full"
                  id="btnCadastrarPedido"
                  onclick="cadastrarOuAlterarPedido()"
                >
                  Cadastrar
                </button>
              </div>
            </form>
          </div>
        </div>

        <!-- Coluna Direita: Lista de Pedidos -->
        <div class="container-direita">
          <div class="card-body-direita">
            <h2 class="card-title mb-2">Meus Pedidos</h2>

            <!-- Container onde são inseridos os cards -->
            <div id="lista-pedidos" class="space-y-4">
              <!-- Preenchido dinamicamente -->
            </div>

            <!-- Paginação centralizada -->
            <div class="flex justify-center mt-4 gap-2 join grid grid-cols-2">
              <button class="join-item btn btn-outline" id="btnAnterior">« Anterior</button>
              <button class="join-item btn btn-outline" id="btnProximo">Próximo »</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal Adicionar/Editar Participante -->
    <input type="checkbox" id="modal-participante" class="modal-toggle" />
    <div class="modal z-50" id="modal-participante-container">
      <div class="modal-box relative">
        <button
          class="btn btn-sm btn-circle absolute right-2 top-2"
          onclick="fecharModal('modal-participante')"
        >
          ✕
        </button>

        <h3 class="text-lg font-bold mb-4" id="tituloModalParticipante">
          Adicionar Participante
        </h3>
        <form id="form-participante" class="space-y-4">
          <!-- Qualificação -->
          <div class="form-control">
            <label class="label text-base">Qualificação</label>
            <select
              name="qualificacao"
              class="select select-bordered"
              id="part-qualificacao"
            >
            <option value="PROPRIETARIO" selected>PROPRIETÁRIO</option>
            <option value="CONJUGE">CÔNJUGE</option>
            <option value="CREDOR">CREDOR</option>
            <option value="DEVEDOR">DEVEDOR</option>
            <option value="NU-PROPRIETARIO">NU-PROPRIETÁRIO</option>
            <option value="USUFRUTUARIO">USUFRUTUÁRIO</option>
            <option value="PROMITENTECOMPRADOR">PROMITENTE COMPRADOR</option>
            <option value="PROMITENTEVENDEDOR">PROMITENTE VENDEDOR</option>

            </select>
          </div>

          <!-- Nome (sempre maiúsculo) -->
          <div class="form-control">
            <label class="label text-base">Nome</label>
            <input
              type="text"
              name="nome"
              id="part-nome"
              class="input input-bordered"
              placeholder="Informe o nome"
            />
          </div>

          <!-- Select CPF/CNPJ -->
          <div class="form-control">
            <label class="label text-base">Documento</label>
            <select
              name="tipoDocumento"
              id="tipoDocumento"
              class="select select-bordered"
              onchange="handleTipoDocumentoChange()"
            >
              <option value="CPF">CPF</option>
              <option value="CNPJ">CNPJ</option>
            </select>
          </div>

          <!-- Input CPF (XXX.XXX.XXX-XX) -->
          <div class="form-control" id="divCPF">
            <label class="label text-base">CPF</label>
            <input
              id="inputCPF"
              type="text"
              name="cpf"
              class="input input-bordered"
              placeholder="123.456.789-10"
            />
          </div>

          <!-- Input CNPJ (XX.XXX.XXX/XXXX-XX) -->
          <div class="form-control hidden" id="divCNPJ">
            <label class="label text-base">CNPJ</label>
            <input
              id="inputCNPJ"
              type="text"
              name="cnpj"
              class="input input-bordered"
              placeholder="12.345.678/0001-90"
            />
          </div>

          <!-- Gênero (apenas para CPF) -->
          <div class="form-control" id="divGenero">
            <label class="label text-base">Gênero</label>
            <select
              name="genero"
              id="part-genero"
              class="select select-bordered"
            >
              <option value="MASCULINO">MASCULINO</option>
              <option value="FEMININO">FEMININO</option>
            </select>
          </div>

          <!-- Identidade (apenas para CPF) -->
          <div class="form-control" id="divIdentidade">
            <label class="label text-base">Identidade</label>
            <input
              type="text"
              name="identidade"
              id="part-identidade"
              class="input input-bordered"
              placeholder="Ex: 11.111.111-1"
            />
          </div>

          <!-- Órgão Emissor (select) -->
          <div class="form-control" id="divOrgaoEmissorSelect">
            <label class="label text-base">Órgão Emissor</label>
            <select
              name="orgaoEmissorSelect"
              id="orgaoEmissorSelect"
              class="select select-bordered"
              onchange="handleOrgaoEmissor()"
            >
              <option value="DETRAN/RJ">DETRAN/RJ</option>
              <option value="IFP/RJ">IFP/RJ</option>
              <option value="OUTRO">OUTRO</option>
            </select>
          </div>

          <!-- Órgão Emissor (input se OUTRO) -->
          <div class="form-control hidden" id="divOrgaoEmissorInput">
            <label class="label text-base">Informe o Órgão Emissor</label>
            <input
              type="text"
              name="orgaoEmissorOutro"
              id="orgaoEmissorOutro"
              class="input input-bordered"
              placeholder="Ex: SSP/SP"
            />
          </div>


          <!-- Estado Civil (apenas para CPF) -->
          <div class="form-control" id="divEstadoCivil">
            <label class="label text-base">Estado Civil</label>
            <select
              name="estadoCivil"
              id="part-estadoCivil"
              class="select select-bordered"
            >
            <option value="SOLTEIRO">SOLTEIRO</option>
            <option value="CASADO">CASADO</option>
            <option value="VIUVO">VIÚVO</option>
            <option value="SEPARADO JUDICIALMENTE">SEPARADO JUDICIALMENTE</option>
            <option value="DIVORCIADO">DIVORCIADO</option>
            <option value="SEPARADO CONSENSUALMENTE">SEPARADO CONSENSUALMENTE</option>
            <option value="DESQUITADO">DESQUITADO</option>
            <option value="NENHUMA">NENHUMA</option>

            </select>
          </div>

          <!-- Botões -->
          <div class="flex gap-2">
            <button
              type="button"
              class="btn btn-primary"
              id="btnConfirmarParticipante"
              onclick="confirmarParticipante()"
            >
              Confirmar Participante
            </button>
            <button
              type="button"
              class="btn"
              onclick="fecharModal('modal-participante')"
            >
              Cancelar
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- Modal Adicionar/Editar Protocolo -->
    <input type="checkbox" id="modal-protocolo" class="modal-toggle" />
    <div class="modal z-50" id="modal-protocolo-container">
      <div class="modal-box relative">
        <button
          class="btn btn-sm btn-circle absolute right-2 top-2"
          onclick="fecharModal('modal-protocolo')"
        >
          ✕
        </button>
        <h3 class="text-lg font-bold mb-4" id="tituloModalProtocolo">
          Adicionar Protocolo
        </h3>
        <form id="form-protocolo" class="space-y-4">
          <div class="form-control">
            <label class="label text-base">Observação</label>
            <textarea
              name="observacao"
              id="proto-observacao"
              class="textarea textarea-bordered"
              placeholder="Ex: Consta o Protocolo n.º XXX.XXX de XX/XX/XXXX ..."
            ></textarea>
          </div>
          <div class="flex gap-2">
            <button
              type="button"
              class="btn btn-primary"
              id="btnConfirmarProtocolo"
              onclick="confirmarProtocolo()"
            >
              Confirmar Protocolo
            </button>
            <button
              type="button"
              class="btn"
              onclick="fecharModal('modal-protocolo')"
            >
              Cancelar
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- Modal Resumo de Participantes e Protocolos -->
    <input type="checkbox" id="modal-resumo" class="modal-toggle" />
    <div class="modal z-50">
      <div class="modal-box relative">
        <button
          class="btn btn-sm btn-circle absolute right-2 top-2"
          onclick="fecharModal('modal-resumo')"
        >
          ✕
        </button>
        <h3 class="text-lg font-bold mb-4">Resumo de Participantes e Protocolos</h3>

        <h4 class="text-md font-semibold mb-2">Participantes</h4>
        <ul id="lista-participantes" class="space-y-1"></ul>

        <h4 class="text-md font-semibold mt-4 mb-2">Protocolos</h4>
        <ul id="lista-protocolos" class="space-y-1"></ul>
      </div>
    </div>
    

    <!-- Script principal -->
    <script src="script.js"></script>
  </body>
</html>
